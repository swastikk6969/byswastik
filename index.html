<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Heart Puzzle</title>
  <style>
    body {
      background-color: #ffe6f0;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }

    h2 {
      color: #d10068;
      margin-bottom: 20px;
    }

    .puzzle {
      display: grid;
      grid-template-columns: repeat(3, 100px);
      gap: 10px;
    }

    .tile {
      width: 100px;
      height: 100px;
      background-color: hotpink;
      color: white;
      font-size: 30px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 15px;
      cursor: pointer;
      transition: transform 0.2s;
      user-select: none;
    }

    .tile.selected {
      background-color: #ff99c8;
      transform: scale(1.1);
    }
  </style>
</head>
<body>

  <h2>üíñ Solve the Heart Puzzle üíñ</h2>
  <div class="puzzle" id="puzzle"></div>

  <script>
    const puzzle = document.getElementById("puzzle");
    const correctOrder = [1, 2, 3, 4, 5, 6, 7, 8, 9];
    let tiles = [];
    let selectedTile = null;

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function createPuzzle() {
      let numbers = [...correctOrder];
      shuffle(numbers);
      puzzle.innerHTML = '';
      tiles = [];

      numbers.forEach(num => {
        const tile = document.createElement("div");
        tile.className = "tile";
        tile.textContent = num;
        tile.dataset.value = num;

        tile.addEventListener("click", () => handleTileClick(tile));
        tiles.push(tile);
        puzzle.appendChild(tile);
      });
    }

    function handleTileClick(tile) {
      if (!selectedTile) {
        tile.classList.add("selected");
        selectedTile = tile;
      } else if (tile === selectedTile) {
        tile.classList.remove("selected");
        selectedTile = null;
      } else {
        // Swap values
        let temp = tile.textContent;
        tile.textContent = selectedTile.textContent;
        tile.dataset.value = selectedTile.dataset.value;
        selectedTile.textContent = temp;
        selectedTile.dataset.value = temp;

        selectedTile.classList.remove("selected");
        selectedTile = null;

        checkWin();
      }
    }

    function checkWin() {
      const currentOrder = Array.from(puzzle.children).map(tile => parseInt(tile.textContent));
      const isSolved = currentOrder.every((val, idx) => val === correctOrder[idx]);
      if (isSolved) {
        setTimeout(() => {
          alert("You solved it! ‚ù§Ô∏è");
          window.location.href = "index2.html";
        }, 300);
      }
    }

    createPuzzle();
  </script>

</body>
</html>
